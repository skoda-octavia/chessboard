{"ast":null,"code":"import { Piece } from \"../../piece\";\nexport class King extends Piece {\n  moveRook(fromY, fromX, toY, toX) {\n    var tempPiece = this.board.fields[fromY][fromX].piece;\n    this.board.fields[fromY][fromX].piece = null;\n    this.board.fields[toY][toX].piece = tempPiece;\n  }\n  possibleMoves(colorBoard) {\n    var possibleMoves = [];\n    var boardHeight = colorBoard.length;\n    var boardWidth = colorBoard[0].length;\n    for (const direction of this.directions) {\n      var tempY = this.fieldHeight + direction[0];\n      var tempX = this.fieldWidth + direction[1];\n      if (this.correctField(boardHeight, boardWidth, tempY, tempX)) {\n        if (this.color != colorBoard[tempY][tempX]) {\n          possibleMoves.push([tempY, tempX]);\n        }\n      }\n    }\n    if (this.board.anyButtonClicked) {\n      var possibleCastlingMoves = this.board.possibleCastlingMoves(this.color);\n      return [...possibleMoves, ...possibleCastlingMoves];\n    } else {\n      return possibleMoves;\n    }\n  }\n  constructor(fieldHeight, fieldWidth, board) {\n    super(fieldHeight, fieldWidth);\n    this.alreadyMoved = false;\n    this.directions = [[0, 1], [0, -1], [1, 0], [-1, 0], [1, 1], [1, -1], [-1, 1], [-1, -1]];\n    this.board = board;\n  }\n}","map":{"version":3,"names":["Piece","King","moveRook","fromY","fromX","toY","toX","tempPiece","board","fields","piece","possibleMoves","colorBoard","boardHeight","length","boardWidth","direction","directions","tempY","fieldHeight","tempX","fieldWidth","correctField","color","push","anyButtonClicked","possibleCastlingMoves","constructor","alreadyMoved"],"sources":["C:\\Users\\UÅ¼ytkownik\\Desktop\\student fullstack\\studentManager\\chessboard\\src\\app\\chess\\pieces\\piece\\king\\king.ts"],"sourcesContent":["import { Board } from \"src/app/chess/board/board\";\r\nimport { CastlingPiece } from \"../../castlingPiece\";\r\nimport { Piece, PieceColor } from \"../../piece\";\r\n\r\nexport abstract class King extends Piece implements CastlingPiece {\r\n\r\n    board: Board;\r\n    alreadyMoved: boolean = false;\r\n    directions: number[][] = [\r\n            [0, 1],\r\n            [0, -1],\r\n            [1, 0],\r\n            [-1, 0],\r\n            [1, 1],\r\n            [1, -1],\r\n            [-1, 1],\r\n            [-1, -1]\r\n    ];\r\n    \r\n    moveRook(fromY: number, fromX: number, toY: number, toX: number) {\r\n        var tempPiece = this.board.fields[fromY][fromX].piece\r\n        this.board.fields[fromY][fromX].piece = null\r\n        this.board.fields[toY][toX].piece = tempPiece\r\n    }\r\n\r\n    possibleMoves(colorBoard: PieceColor[][]): number[][] {\r\n        var possibleMoves = [];\r\n        var boardHeight = colorBoard.length;\r\n        var boardWidth = colorBoard[0].length;\r\n\r\n        for (const direction of this.directions) {\r\n            var tempY = this.fieldHeight + direction[0];\r\n            var tempX = this.fieldWidth + direction[1];\r\n            if (this.correctField(boardHeight, boardWidth, tempY, tempX)) {\r\n                if (this.color != colorBoard[tempY][tempX]) {\r\n                    possibleMoves.push([tempY, tempX])\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.board.anyButtonClicked) {\r\n            var possibleCastlingMoves = this.board.possibleCastlingMoves(this.color)\r\n            return [...possibleMoves, ...possibleCastlingMoves];\r\n        }\r\n        else {return possibleMoves}   \r\n    }\r\n\r\n\r\n\r\n    constructor(fieldHeight: number, fieldWidth: number, board: Board) {\r\n        super(fieldHeight, fieldWidth)\r\n        this.board = board;\r\n    }\r\n}\r\n"],"mappings":"AAEA,SAASA,KAAK,QAAoB,aAAa;AAE/C,OAAM,MAAgBC,IAAK,SAAQD,KAAK;EAepCE,QAAQA,CAACC,KAAa,EAAEC,KAAa,EAAEC,GAAW,EAAEC,GAAW;IAC3D,IAAIC,SAAS,GAAG,IAAI,CAACC,KAAK,CAACC,MAAM,CAACN,KAAK,CAAC,CAACC,KAAK,CAAC,CAACM,KAAK;IACrD,IAAI,CAACF,KAAK,CAACC,MAAM,CAACN,KAAK,CAAC,CAACC,KAAK,CAAC,CAACM,KAAK,GAAG,IAAI;IAC5C,IAAI,CAACF,KAAK,CAACC,MAAM,CAACJ,GAAG,CAAC,CAACC,GAAG,CAAC,CAACI,KAAK,GAAGH,SAAS;EACjD;EAEAI,aAAaA,CAACC,UAA0B;IACpC,IAAID,aAAa,GAAG,EAAE;IACtB,IAAIE,WAAW,GAAGD,UAAU,CAACE,MAAM;IACnC,IAAIC,UAAU,GAAGH,UAAU,CAAC,CAAC,CAAC,CAACE,MAAM;IAErC,KAAK,MAAME,SAAS,IAAI,IAAI,CAACC,UAAU,EAAE;MACrC,IAAIC,KAAK,GAAG,IAAI,CAACC,WAAW,GAAGH,SAAS,CAAC,CAAC,CAAC;MAC3C,IAAII,KAAK,GAAG,IAAI,CAACC,UAAU,GAAGL,SAAS,CAAC,CAAC,CAAC;MAC1C,IAAI,IAAI,CAACM,YAAY,CAACT,WAAW,EAAEE,UAAU,EAAEG,KAAK,EAAEE,KAAK,CAAC,EAAE;QAC1D,IAAI,IAAI,CAACG,KAAK,IAAIX,UAAU,CAACM,KAAK,CAAC,CAACE,KAAK,CAAC,EAAE;UACxCT,aAAa,CAACa,IAAI,CAAC,CAACN,KAAK,EAAEE,KAAK,CAAC,CAAC;;;;IAK9C,IAAI,IAAI,CAACZ,KAAK,CAACiB,gBAAgB,EAAE;MAC7B,IAAIC,qBAAqB,GAAG,IAAI,CAAClB,KAAK,CAACkB,qBAAqB,CAAC,IAAI,CAACH,KAAK,CAAC;MACxE,OAAO,CAAC,GAAGZ,aAAa,EAAE,GAAGe,qBAAqB,CAAC;KACtD,MACI;MAAC,OAAOf,aAAa;;EAC9B;EAIAgB,YAAYR,WAAmB,EAAEE,UAAkB,EAAEb,KAAY;IAC7D,KAAK,CAACW,WAAW,EAAEE,UAAU,CAAC;IA3ClC,KAAAO,YAAY,GAAY,KAAK;IAC7B,KAAAX,UAAU,GAAe,CACjB,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EACP,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EACP,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EACP,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EACP,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CACf;IAkCG,IAAI,CAACT,KAAK,GAAGA,KAAK;EACtB"},"metadata":{},"sourceType":"module","externalDependencies":[]}